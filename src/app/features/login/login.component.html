<div class="container" [ngClass]="{'sign-up-mode': signUpMode}">
  <div class="forms-container">
    <div class="signin-signup">

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="sign-in-form">
  <div class="logo">
    <img src="assets/logo.png" alt="Company Logo" />
  </div>
  <p class="welcome-text">Bem-vindo! Por favor, faça login para acessar o sistema.</p>

<<<<<<< HEAD
  <!-- Campo Email ou Telefone -->
  <div class="input-field" [ngClass]="{'has-error': loginemail?.invalid && (loginemail?.dirty || loginemail?.touched)}">
    <i class="fas fa-user"></i>
    <input type="text" formControlName="email" placeholder="Email" (input)="onEmailOrPhoneInput($event)" />
  </div>
  <div *ngIf="loginemail?.invalid && (loginemail?.dirty || loginemail?.touched)" class="error">
    <small *ngIf="loginemail?.errors?.['required']">Campo obrigatório.</small>
    <small *ngIf="loginemail?.errors?.['invalidInput']">Insira um email válido ou um telefone com 9 dígitos.</small>
  </div>
=======
<!-- Campo Email ou Telefone -->
<div class="input-field" [ngClass]="{'has-error': loginlogin?.invalid && (loginlogin?.dirty || loginlogin?.touched)}">
  <i class="fas fa-user"></i>
  <input type="text" formControlName="login" placeholder="Insira seu email ou telefone" (input)="onEmailOrPhoneInput($event)" />
</div>
<div *ngIf="loginlogin?.invalid && (loginlogin?.dirty || loginlogin?.touched)" class="error">
  <small *ngIf="loginlogin?.errors?.['required']">Campo obrigatório.</small>
  <small *ngIf="loginlogin?.errors?.['invalidInput']">Insira um email válido ou um telefone com 9 dígitos.</small>
</div>

>>>>>>> 1cf9653bea8691ed5a2c7327c02906873e0e2c45

  <!-- Campo Senha -->
  <div class="input-field" [ngClass]="{'has-error': loginsenha?.invalid && (loginsenha?.dirty || loginsenha?.touched)}">
    <i class="fas fa-lock"></i>
    <input type="password" formControlName="senha" placeholder="Senha" autocomplete="new-password" />
  </div>
  <div *ngIf="loginsenha?.invalid && (loginsenha?.dirty || loginsenha?.touched)" class="error">
    <small *ngIf="loginsenha?.errors?.['required']">Senha é obrigatória.</small>
  </div>


 <!-- Corrigido: usar loginForm -->
<button class="btn solid" type="submit" [disabled]="loginForm.invalid || isLoading">
  {{ isLoading ? 'Entrando...' : 'Entrar' }}
</button>


  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>
  <!-- Link de Esqueceu Senha -->
  <div class="forgot-password">
    <a href="#" class="forgot-password-link">Esqueceu sua senha?</a>
  </div>
</form>

      <!-- Register Form -->
      <form [formGroup]="registerForm" (ngSubmit)="onRegister()" class="sign-up-form">
        <div class="logo">
          <img src="assets/logo.png" alt="Company Logo" />
        </div>
        <h2 class="title">Criar conta</h2>

        <!-- Nome -->
        <div class="input-field" [ngClass]="{'has-error': registerName?.invalid && (registerName?.dirty || registerName?.touched)}">
          <i class="fas fa-user"></i>
          <input type="text" formControlName="nome" placeholder="Nome Completo" />
        </div>
        <div *ngIf="registerName?.invalid && (registerName?.dirty || registerName?.touched)" class="error">
          <small *ngIf="registerName?.errors?.['required']">Nome é obrigatório.</small>
        </div>

        <!-- Email -->
        <div class="input-field" [ngClass]="{'has-error': registerEmail?.invalid && (registerEmail?.dirty || registerEmail?.touched)}">
          <i class="fas fa-envelope"></i>
          <input type="email" formControlName="email" placeholder="Email" />
        </div>
        <div *ngIf="registerEmail?.invalid && (registerEmail?.dirty || registerEmail?.touched)" class="error">
          <small *ngIf="registerEmail?.errors?.['required']">Email é obrigatório.</small>
          <small *ngIf="registerEmail?.errors?.['email']">Email inválido.</small>
        </div>

        <!-- Telefone -->
     <div class="input-field"
     [ngClass]="{'has-error': registerTelefone?.invalid && (registerTelefone?.dirty || registerTelefone?.touched)}">
  <i class="fas fa-phone"></i>
<input type="text"
       formControlName="telefone"
       placeholder="Telefone (9 dígitos)"
       inputmode="numeric"
       required
       (keypress)="permitirApenasNumeros($event)" />

</div>

        <div *ngIf="registerTelefone?.invalid && (registerTelefone?.dirty || registerTelefone?.touched)" class="error">
          <small *ngIf="registerTelefone?.errors?.['required']">Telefone é obrigatório.</small>
          <small *ngIf="registerTelefone?.errors?.['pattern']">Telefone inválido. Insira 9 dígitos.</small>
        </div>

        <!-- Senha -->
        <div class="input-field" [ngClass]="{'has-error': registerPassword?.invalid && (registerPassword?.dirty || registerPassword?.touched)}">
          <i class="fas fa-lock"></i>
          <input type="password" formControlName="senha" placeholder="Senha" autocomplete="new-password" />
        </div>
        <div *ngIf="registerPassword?.invalid && (registerPassword?.dirty || registerPassword?.touched)" class="error">
          <small *ngIf="registerPassword?.errors?.['required']">Senha é obrigatória.</small>
        </div>

        <button class="btn" type="submit" [disabled]="registerForm.invalid || isLoading">
          {{ isLoading ? 'Cadastrando...' : 'Cadastre-se' }}
        </button>
      </form>

    </div>
  </div>

  <!-- Panels -->
  <div class="panels-container">
    <div class="panel left-panel">
      <div class="content">
        <h3>Novo aqui?</h3>
        <p>
          Bem-vindo! Cadastre-se para acessar e gerenciar suas faturas de forma prática e rápida.
        </p>
        <button class="btn transparent" (click)="toggleSignUpMode()">Cadastre-se</button>
      </div>
      <img src="assets/invoice.svg" class="image" alt="Cadastro" />
    </div>
    <div class="panel right-panel">
      <div class="content">
        <h3>Já tem uma conta?</h3>
        <p>
          Faça login para acessar sua conta e gerenciar suas faturas de forma prática e rápida.
        </p>
        <button class="btn transparent" (click)="toggleSignUpMode()">Entrar</button>
      </div>
      <img src="assets/invoice2.svg" class="image" alt="Login" />
    </div>
  </div>
</div>
